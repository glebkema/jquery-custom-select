/*!
  * jQuery Stylize Select Plugin
  * Description: This plugin adds HTML blocks around the <select> field and creates the necessary event handlers. All that remains is to style these blocks with CSS.
  * Copyright (c) 2019 Gleb Kemarsky, https://github.com/glebkema/jquery-stylize-select
  * Licensed under the MIT license
  * Version: 0.5.7
  */
!function(p){p.fn.stylizeSelect=function(e){var s,h,u="active";return s=e&&e.classSelect?e.classSelect:"string"==typeof e?e:p.fn.stylizeSelect.defaults.classSelect,h=p.extend({classSelect:s,classDisabled:s+"__disabled",classHidden:s+"__hidden",classList:s+"__list",classSelected:s+"__selected",classStyled:s+"__styled"},e),this.each(function(){var a,e,s,t=p(this),l=t.children("option"),c=l.length;t.hide().wrap(p("<div />",{class:h.classSelect.slice(1)})).after(p("<div />",{class:h.classStyled.slice(1),tabindex:0})),a=t.next(h.classStyled),e=p("<ul />",{class:h.classList.slice(1)}).insertAfter(a);for(var i=0;i<c;i++){var n=l.eq(i);p("<li />",{class:((n.attr("class")?n.attr("class"):"")+(n.prop("disabled")?" "+h.classDisabled.slice(1):"")+(n.prop("hidden")?" "+h.classHidden.slice(1):"")).trim(),html:n.data("html")||n.text(),rel:n.val(),style:n.attr("style"),tabindex:0}).appendTo(e)}function o(){a.removeClass(u),e.hide()}function r(){a.find("."+u).not(this).each(function(){p(this).removeClass(u).next(h.classList).hide()}),a.toggleClass(u).next(h.classList).toggle()}function d(e){!function(e){e&&!e.hasClass(h.classDisabled.slice(1))&&t.val(e.attr("rel")).change()}(e),o(),a.focus()}function f(){a.hasClass(u)?o():r()}s=e.children("li"),t.change(function(){if(-1<this.selectedIndex){var s=e.children('[rel="'+p(this).val()+'"]');s&&(a.html(s.html()).attr("style",function(){var e=s.attr("style");return e||null}),s.addClass(h.classSelected.slice(1)).siblings(h.classSelected).removeClass(h.classSelected.slice(1)))}}).change(),t.parent(h.classSelect).focusout(function(e){this.contains(e.relatedTarget)||o()}),a.click(function(){return f(),!1}).keydown(function(e){switch(e.charCode||e.keyCode||e.which){case 27:e.stopPropagation(),o();break;case 13:case 32:e.preventDefault(),e.stopPropagation(),f();break;case 38:a.hasClass(u)&&(e.preventDefault(),e.stopPropagation(),o());break;case 40:e.preventDefault(),e.stopPropagation(),a.hasClass(u)?s.filter(":visible").first().focus():r()}}),s.click(function(e){e.stopPropagation(),d(p(this))}).keydown(function(e){var s,t;switch(e.charCode||e.keyCode||e.which){case 27:e.stopPropagation(),o(),a.focus();break;case 13:case 32:e.preventDefault(),e.stopPropagation(),d(p(this));break;case 38:e.preventDefault(),e.stopPropagation(),(t=p(this).prevAll(":visible:first")).length?t.focus():a.focus();break;case 40:e.preventDefault(),e.stopPropagation(),(s=p(this).nextAll(":visible:first")).length&&s.focus()}}),p(document).click(o)}),this},p.fn.stylizeSelect.defaults={classSelect:".stylize-select"}}(jQuery);