/*!
  * jQuery Stylize Select Plugin
  * Description: This plugin adds blocks around the selection field and creates the necessary event handlers. You can stylize the look of these blocks using the CSS. The plugin simplifies website development.
  * Copyright (c) 2019 Gleb Kemarsky, https://github.com/glebkema/jquery-stylize-select
  * Based on https://codepen.io/wallaceerick/pen/ctsCz by Wallace Erick
  * Licensed under the MIT license
  * Version: 0.5.2
  */
!function(u){u.fn.stylizeSelect=function(s){var t=s&&s.classSelect?s.classSelect:"string"==typeof s?s:".stylize-select";return settings=u.extend({classSelect:t,classHidden:t+"__hidden",classList:t+"__list",classSelected:t+"__selected",classStyled:t+"__styled"},s),STR_ACTIVE="active",this.each(function(){var t,s,e,a,c=u(this),i=c.children("option"),l=i.length;c.addClass(settings.classHidden.slice(1)).wrap(u("<div />",{class:settings.classSelect.slice(1)})).after(u("<div />",{class:settings.classStyled.slice(1),tabindex:0})),t=c.next(settings.classStyled),s=u("<ul />",{class:settings.classList.slice(1)}).insertAfter(t);for(var n=0;n<l;n++){var o=i.eq(n);u("<li />",{class:o.attr("class"),html:o.data("html")||o.text(),rel:o.val(),style:o.attr("style"),tabindex:0}).appendTo(s)}function r(){t.removeClass(STR_ACTIVE),s.hide()}function d(){t.find("."+STR_ACTIVE).not(this).each(function(){u(this).removeClass(STR_ACTIVE).next(settings.classList).hide()}),t.toggleClass(STR_ACTIVE).next(settings.classList).toggle()}function h(){t.hasClass(STR_ACTIVE)?r():d()}function f(s){t.html(s.html()).attr("style",s.attr("style")),s.addClass(settings.classSelected.slice(1)).siblings(settings.classSelected).removeClass(settings.classSelected.slice(1)),c.val(s.attr("rel")).change(),r()}e=s.children("li"),f((a=Math.max(0,i.index(u(":selected"))),e.eq(a))),c.parent(settings.classSelect).focusout(function(s){this.contains(s.relatedTarget)||r()}),t.click(function(s){return h(),!1}).keydown(function(s){switch(s.charCode||s.keyCode||s.which){case 27:s.stopPropagation(),r();break;case 13:case 32:s.preventDefault(),s.stopPropagation(),h();break;case 38:t.hasClass(STR_ACTIVE)&&(s.preventDefault(),s.stopPropagation(),r());break;case 40:s.preventDefault(),s.stopPropagation(),t.hasClass(STR_ACTIVE)?e.first().focus():d()}}),e.click(function(s){s.stopPropagation(),f(u(this)),t.focus()}).keydown(function(s){switch(s.charCode||s.keyCode||s.which){case 27:s.stopPropagation(),r(),t.focus();break;case 13:case 32:s.preventDefault(),s.stopPropagation(),f(u(this)),t.focus();break;case 38:s.preventDefault(),s.stopPropagation(),u(this).is(":first-child")?t.focus():u(this).prev().focus();break;case 40:s.preventDefault(),s.stopPropagation(),u(this).is(":last-child")||u(this).next().focus()}}),u(document).click(r)}),this}}(jQuery);