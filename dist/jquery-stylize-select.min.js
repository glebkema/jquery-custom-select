/*!
  * jQuery Stylize Select Plugin
  * Description: This plugin adds HTML blocks around the <select> field and creates the necessary event handlers. All that remains is to style these blocks with CSS.
  * Copyright (c) 2019 Gleb Kemarsky, https://github.com/glebkema/jquery-stylize-select
  * Based on https://codepen.io/wallaceerick/pen/ctsCz by Wallace Erick
  * Licensed under the MIT license
  * Version: 0.5.5
  */
!function(v){v.fn.stylizeSelect=function(s){var e,f,u="active";return e=s&&s.classSelect?s.classSelect:"string"==typeof s?s:".stylize-select",f=v.extend({classSelect:e,classDisabled:e+"__disabled",classHidden:e+"__hidden",classList:e+"__list",classSelected:e+"__selected",classStyled:e+"__styled"},s),this.each(function(){var t,s,e,a,l=v(this),c=l.children("option"),i=c.length;l.hide().wrap(v("<div />",{class:f.classSelect.slice(1)})).after(v("<div />",{class:f.classStyled.slice(1),tabindex:0})),t=l.next(f.classStyled),s=v("<ul />",{class:f.classList.slice(1)}).insertAfter(t);for(var n=0;n<i;n++){var o=c.eq(n);v("<li />",{class:((o.attr("class")?o.attr("class"):"")+(o.prop("disabled")?" "+f.classDisabled.slice(1):"")+(o.prop("hidden")?" "+f.classHidden.slice(1):"")).trim(),html:o.data("html")||o.text(),rel:o.val(),style:o.attr("style"),tabindex:0}).appendTo(s)}function r(){t.removeClass(u),s.hide()}function d(){t.find("."+u).not(this).each(function(){v(this).removeClass(u).next(f.classList).hide()}),t.toggleClass(u).next(f.classList).toggle()}function h(){t.hasClass(u)?r():d()}function p(e){e.hasClass(f.classDisabled.slice(1))||(t.html(e.html()).attr("style",function(){var s=e.attr("style");return s||null}),e.addClass(f.classSelected.slice(1)).siblings(f.classSelected).removeClass(f.classSelected.slice(1)),l.val(e.attr("rel")).change(),r())}e=s.children("li"),p((a=Math.max(0,l.prop("selectedIndex")),e.eq(a))),l.parent(f.classSelect).focusout(function(s){this.contains(s.relatedTarget)||r()}),t.click(function(){return h(),!1}).keydown(function(s){switch(s.charCode||s.keyCode||s.which){case 27:s.stopPropagation(),r();break;case 13:case 32:s.preventDefault(),s.stopPropagation(),h();break;case 38:t.hasClass(u)&&(s.preventDefault(),s.stopPropagation(),r());break;case 40:s.preventDefault(),s.stopPropagation(),t.hasClass(u)?e.first().focus():d()}}),e.click(function(s){s.stopPropagation(),p(v(this)),t.focus()}).keydown(function(s){switch(s.charCode||s.keyCode||s.which){case 27:s.stopPropagation(),r(),t.focus();break;case 13:case 32:s.preventDefault(),s.stopPropagation(),p(v(this)),t.focus();break;case 38:s.preventDefault(),s.stopPropagation(),v(this).is(":first-child")?t.focus():v(this).prev().focus();break;case 40:s.preventDefault(),s.stopPropagation(),v(this).is(":last-child")||v(this).next().focus()}}),v(document).click(r)}),this}}(jQuery);