/*!
  * jQuery Stylize Select Plugin
  * Description: This plugin adds HTML blocks around the <select> field and creates the necessary event handlers. All that remains is to style these blocks with CSS.
  * Copyright (c) 2019 Gleb Kemarsky, https://github.com/glebkema/jquery-stylize-select
  * Based on https://codepen.io/wallaceerick/pen/ctsCz by Wallace Erick
  * Licensed under the MIT license
  * Version: 0.5.3
  */
!function(v){v.fn.stylizeSelect=function(s){var e,u,p="active";return e=s&&s.classSelect?s.classSelect:"string"==typeof s?s:".stylize-select",u=v.extend({classSelect:e,classHidden:e+"__hidden",classList:e+"__list",classSelected:e+"__selected",classStyled:e+"__styled"},s),this.each(function(){var e,s,t,a,c=v(this),l=c.children("option"),i=l.length;c.addClass(u.classHidden.slice(1)).wrap(v("<div />",{class:u.classSelect.slice(1)})).after(v("<div />",{class:u.classStyled.slice(1),tabindex:0})),e=c.next(u.classStyled),s=v("<ul />",{class:u.classList.slice(1)}).insertAfter(e);for(var n=0;n<i;n++){var o=l.eq(n);v("<li />",{class:o.attr("class"),html:o.data("html")||o.text(),rel:o.val(),style:o.attr("style"),tabindex:0}).appendTo(s)}function r(){e.removeClass(p),s.hide()}function d(){e.find("."+p).not(this).each(function(){v(this).removeClass(p).next(u.classList).hide()}),e.toggleClass(p).next(u.classList).toggle()}function h(){e.hasClass(p)?r():d()}function f(s){e.html(s.html()).attr("style",s.attr("style")),s.addClass(u.classSelected.slice(1)).siblings(u.classSelected).removeClass(u.classSelected.slice(1)),c.val(s.attr("rel")).change(),r()}t=s.children("li"),f((a=Math.max(0,l.index(v(":selected"))),t.eq(a))),c.parent(u.classSelect).focusout(function(s){this.contains(s.relatedTarget)||r()}),e.click(function(){return h(),!1}).keydown(function(s){switch(s.charCode||s.keyCode||s.which){case 27:s.stopPropagation(),r();break;case 13:case 32:s.preventDefault(),s.stopPropagation(),h();break;case 38:e.hasClass(p)&&(s.preventDefault(),s.stopPropagation(),r());break;case 40:s.preventDefault(),s.stopPropagation(),e.hasClass(p)?t.first().focus():d()}}),t.click(function(s){s.stopPropagation(),f(v(this)),e.focus()}).keydown(function(s){switch(s.charCode||s.keyCode||s.which){case 27:s.stopPropagation(),r(),e.focus();break;case 13:case 32:s.preventDefault(),s.stopPropagation(),f(v(this)),e.focus();break;case 38:s.preventDefault(),s.stopPropagation(),v(this).is(":first-child")?e.focus():v(this).prev().focus();break;case 40:s.preventDefault(),s.stopPropagation(),v(this).is(":last-child")||v(this).next().focus()}}),v(document).click(r)}),this}}(jQuery);